<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Heatmaps</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
      #floating-panel {
        background-color: #fff;
        border: 1px solid #999;
        left: 25%;
        padding: 5px;
        position: absolute;
        top: 10px;
        z-index: 5;
      }
    </style>
  </head>

  <body>
    
    <div id="map"></div>
    <script>

      // This example requires the Visualization library. Include the libraries=visualization
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization">

      var map, heatmap,geocoder;

      function initMap() {
    	  geocoder = new google.maps.Geocoder();
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 5,
          center: {lat: 37.775, lng: -122.434},
          mapTypeId: google.maps.MapTypeId.MAP
        });

        heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });
        setToMumbai();
      }

      function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);
      }

      function changeGradient() {
        var gradient = [
          'rgba(0, 255, 255, 0)',
          'rgba(0, 255, 255, 1)',
          'rgba(0, 191, 255, 1)',
          'rgba(0, 127, 255, 1)',
          'rgba(0, 63, 255, 1)',
          'rgba(0, 0, 255, 1)',
          'rgba(0, 0, 223, 1)',
          'rgba(0, 0, 191, 1)',
          'rgba(0, 0, 159, 1)',
          'rgba(0, 0, 127, 1)',
          'rgba(63, 0, 91, 1)',
          'rgba(127, 0, 63, 1)',
          'rgba(191, 0, 31, 1)',
          'rgba(255, 0, 0, 1)'
        ]
        heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
      }

      function changeRadius() {
        heatmap.set('radius', heatmap.get('radius') ? null : 20);
      }

      function changeOpacity() {
        heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
      }

      var lat = '';
      var lng = '';
      var address = "India";
      
     // var geocoder= new google.maps.Geocoder();
      
      function getCodeAddress(address,fn) {
    console.log(address);
    var loc;
    geocoder.geocode( { 'address': address}, function(results, status) {
    	geocoder.geocode( { 'address': address}, function(results, status) {
    	     fn(results[0].geometry.location); 
    	  });
    });
    
  }
      function setToMumbai(){
    	  getCodeAddress("400066,mumbai", function(location){
    		  map.setCenter(location); // this is where you get the return value
        	});
      }
      
      // Heatmap data: 500 Points
      function getPoints() {
    	  var locations=[];
    	 
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});
    		 locations.push({location:new google.maps.LatLng(19.0760, 72.8777),weight:150});

    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
			 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});
    		 locations.push({location:new google.maps.LatLng(28.6139, 77.2090 ),weight:150});

    		 locations.push({location:new google.maps.LatLng(113.0827, 80.2707),weight:150});
    		 locations.push({location:new google.maps.LatLng(22.5726,  88.3639),weight:250});
			     		 locations.push({location:new google.maps.LatLng(23.2599,77.4126 ),weight:300});
 			     		 locations.push({location:new google.maps.LatLng(17.3850,78.4867 ),weight:450});
    		 locations.push({location:new google.maps.LatLng(21.1702, 72.8311),weight:100});
    		 locations.push({location:new google.maps.LatLng(18.5204, 73.8567),weight:500});
			     		 locations.push({location:new google.maps.LatLng(26.9124, 75.7873),weight:440});
						 locations.push({location:new google.maps.LatLng(26.2006, 92.9376),weight:1000});
    		 locations.push({location:new google.maps.LatLng(31.1471, 75.3412),weight:350});





    	 
      console.log(locations);
      return locations;
      }
    </script>
    <script 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxtxzlYA9CK6DHiwp-nTqnusSH6wclCjg&libraries=visualization&callback=initMap">
    </script>
    
  </body>
</html>

